from yaupon.data_structures.lru_cache import LRUCache

def test_put_overflow():
    cache = LRUCache(max_objects=10)
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    for ch in alphabet:
        cache.put(ch,0)
    num_cached = 0
    assert sum(1 for ch in alphabet if cache.get(ch) is not None) == 10
    # Since cache.get modifies the cache, let's do this few more times
    assert sum(1 for ch in alphabet if cache.get(ch) is not None) == 10
    assert sum(1 for ch in alphabet if cache.get(ch) is not None) == 10
    
    
